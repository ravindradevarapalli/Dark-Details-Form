<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dr. Marina Wave - Ocean Explorer</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <a
      class="skip-link"
      href="#maincontent"
      style="
        position: absolute;
        left: -999px;
        top: auto;
        width: 1px;
        height: 1px;
        overflow: hidden;
      "
      >Skip to main content</a
    >
    <!-- Navigation -->
    <nav id="navbar" role="navigation">
      <div class="container">
        <div style="display: flex; align-items: center; gap: 16px">
          <div class="logo">AQUA NOVA</div>
          <button
            id="themeToggle"
            class="theme-toggle"
            aria-pressed="false"
            aria-label="Toggle light and dark theme"
          >
            Light
          </button>
        </div>
        <ul>
          <li><a href="#home">Home</a></li>
          <li><a href="#about">About</a></li>
          <li><a href="#research">Research</a></li>
          <li><a href="#equipment">Equipment</a></li>
          <li><a href="#gallery">Gallery</a></li>
          <li><a href="#timeline">Timeline</a></li>
          <li><a href="#contact">Contact</a></li>
        </ul>
      </div>
    </nav>

    <main id="maincontent">
      <!-- Hero Section -->
      <section class="hero" id="home">
        <div class="stars" id="starsContainer"></div>
        <div id="particlesContainer"></div>
        <div class="hero-content">
          <h1>DR. MARINA WAVE</h1>
          <p class="subtitle">
            Marine Biologist & Ocean Explorer ‚Ä¢ PhD Pioneer
          </p>
          <div class="scroll-icon" onclick="scrollToSection('about')"></div>
          <h2
            style="
              font-size: 2rem;
              font-weight: 300;
              letter-spacing: 3px;
              animation: fadeInUp 1.5s ease 0.9s backwards;
            "
          >
            Ocean Explorer
          </h2>
        </div>
        <div class="wave-bg"></div>
      </section>

      <!-- Ocean Explorer Section -->
      <section class="ocean-explorer" id="about">
        <div class="container">
          <h2 class="section-title">Diving Deep Into Ocean Mysteries</h2>
          <div class="explorer-intro">
            <p>
              Through 15 years of pioneering marine research, I've dedicated my
              life to understanding and protecting our oceans and marine
              ecosystems. Discovering new species, and prophesying our blue
              planet. From the sunlit surface of the Great Barrier Reef to the
              mysterious depths of the Mariana Trench, my work focuses on
              conservation, education, and inspiring the next generation to care
              about our ocean's intricate ecosystems.
            </p>
          </div>

          <div class="features">
            <div class="feature-card">
              <div class="feature-icon">üî¨</div>
              <h3>Marine Biologist</h3>
              <p>
                Deciphering reef ecology & marine life behaviors through
                cutting-edge field research & innovative observation methods,
                contributing to global understanding of ocean health.
              </p>
              <div class="progress-bar">
                <div class="progress-fill" style="width: 95%"></div>
              </div>
            </div>
            <div class="feature-card">
              <div class="feature-icon">üë®‚Äçüè´</div>
              <h3>Guest Keynote</h3>
              <p>
                Sharing conservation messages & marine science insights to
                inspire communities worldwide through captivating storytelling
                and data-driven discoveries.
              </p>
              <div class="progress-bar">
                <div class="progress-fill" style="width: 88%"></div>
              </div>
            </div>
            <div class="feature-card">
              <div class="feature-icon">üåä</div>
              <h3>Deep Sea Exploration</h3>
              <p>
                Probing unknown depths & conducting pioneering hydrothermal vent
                research, using advanced submersibles to explore Earth's final
                frontier and its unique ecosystems.
              </p>
              <div class="progress-bar">
                <div class="progress-fill" style="width: 92%"></div>
              </div>
            </div>
          </div>

          <div class="stats">
            <div class="stat-item">
              <div class="stat-number" data-target="127">0</div>
              <div class="stat-label">Research Dives</div>
            </div>
            <div class="stat-item">
              <div class="stat-number" data-target="2450">0</div>
              <div class="stat-label">Dive Hours</div>
            </div>
            <div class="stat-item">
              <div class="stat-number" data-target="34">0</div>
              <img
                src="../Images/hero.svg"
                alt="Reef Restoration"
                loading="lazy"
              />
              <div class="gallery-overlay">
                <h4 style="margin-bottom: 5px; color: #64dcb4">
                  Reef Restoration
                </h4>
                <p style="font-size: 0.85rem; opacity: 0.8">
                  Great Barrier Reef
                </p>
              </div>
            </div>
            <div
              class="gallery-item"
              onclick="openModal('Bioluminescent Species', 'Midnight Zone - 1,200m', 'https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800&h=500&fit=crop&sat=-100&hue=180')"
            >
              <img
                src="https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800&h=500&fit=crop&sat=-100&hue=180"
                alt="Bioluminescent Species"
                loading="lazy"
              />
              <div class="gallery-overlay">
                <h4 style="margin-bottom: 5px; color: #64dcb4">
                  Bioluminescence
                </h4>
                <p style="font-size: 0.85rem; opacity: 0.8">Midnight Zone</p>
              </div>
            </div>
            <div
              class="gallery-item"
              onclick="openModal('Hydrothermal Vent Life', 'Pacific Ocean - 2,800m', 'https://images.unsplash.com/photo-1582967788606-a171c1080cb0?w=800&h=500&fit=crop')"
            >
              <img
                src="https://images.unsplash.com/photo-1582967788606-a171c1080cb0?w=800&h=500&fit=crop"
                alt="Hydrothermal Vents"
                loading="lazy"
              />
              <div class="gallery-overlay">
                <h4 style="margin-bottom: 5px; color: #64dcb4">
                  Hydrothermal Vents
                </h4>
                <p style="font-size: 0.85rem; opacity: 0.8">Pacific Ocean</p>
              </div>
            </div>
            <div
              class="gallery-item"
              onclick="openModal('Whale Migration Study', 'Southern Ocean', 'https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800&h=500&fit=crop&brightness=0.8')"
            >
              <img
                src="https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800&h=500&fit=crop&brightness=0.8"
                alt="Whale Migration"
                loading="lazy"
              />
              <div class="gallery-overlay">
                <h4 style="margin-bottom: 5px; color: #64dcb4">
                  Whale Migration
                </h4>
                <p style="font-size: 0.85rem; opacity: 0.8">Southern Ocean</p>
              </div>
            </div>
            <div
              class="gallery-item"
              onclick="openModal('Submersible Operations', 'Research Vessel Atlantis', 'https://images.unsplash.com/photo-1505142468610-359e7d316be0?w=800&h=500&fit=crop')"
            >
              <img
                src="https://images.unsplash.com/photo-1505142468610-359e7d316be0?w=800&h=500&fit=crop"
                alt="Submersible Operations"
                loading="lazy"
              />
              <div class="gallery-overlay">
                <h4 style="margin-bottom: 5px; color: #64dcb4">
                  Submersible Ops
                </h4>
                <p style="font-size: 0.85rem; opacity: 0.8">RV Atlantis</p>
              </div>
            </div>
            <div
              class="gallery-item"
              onclick="openModal('Underwater Research Lab', 'Atlantic Ocean Base', 'https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800&h=500&fit=crop&hue=240')"
            >
              <img
                src="https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800&h=500&fit=crop&hue=240"
                alt="Research Lab"
                loading="lazy"
              />
              <div class="gallery-overlay">
                <h4 style="margin-bottom: 5px; color: #64dcb4">Research Lab</h4>
                <p style="font-size: 0.85rem; opacity: 0.8">Atlantic Ocean</p>
              </div>
            </div>
            <div
              class="gallery-item"
              onclick="openModal('Coral Spawning Event', 'Caribbean Sea Annual Event', 'https://images.unsplash.com/photo-1546026423-cc4642628d2b?w=800&h=500&fit=crop')"
            >
              <img
                src="https://images.unsplash.com/photo-1546026423-cc4642628d2b?w=800&h=500&fit=crop"
                alt="Coral Spawning"
                loading="lazy"
              />
              <div class="gallery-overlay">
                <h4 style="margin-bottom: 5px; color: #64dcb4">
                  Coral Spawning
                </h4>
                <p style="font-size: 0.85rem; opacity: 0.8">Caribbean Sea</p>
              </div>
            </div>
            <div
              class="gallery-item"
              onclick="openModal('Deep Sea Exploration', 'Challenger Deep Expedition', 'https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800&h=500&fit=crop&contrast=1.2')"
            >
              <img
                src="https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=800&h=500&fit=crop&contrast=1.2"
                alt="Deep Sea"
                loading="lazy"
              />
              <div class="gallery-overlay">
                <h4 style="margin-bottom: 5px; color: #64dcb4">Deep Sea</h4>
                <p style="font-size: 0.85rem; opacity: 0.8">Challenger Deep</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Timeline Section -->
      <section class="timeline-section" id="timeline">
        <div class="container">
          <h2 class="section-title">Research Timeline</h2>
          <p
            style="
              text-align: center;
              max-width: 800px;
              margin: 20px auto 0;
              opacity: 0.9;
            "
          >
            Key milestones in marine exploration and conservation efforts.
          </p>

          <div class="timeline">
            <div class="timeline-item">
              <div class="timeline-dot"></div>
              <div class="timeline-content">
                <div class="timeline-year">2025</div>
                <h4 style="color: #64dcb4; margin-bottom: 10px">
                  Advanced Deep-Sea Mapping
                </h4>
                <p style="opacity: 0.9">
                  Completed comprehensive 3D mapping of unexplored Pacific
                  trenches using cutting-edge sonar technology.
                </p>
              </div>
            </div>

            <div class="timeline-item">
              <div class="timeline-dot"></div>
              <div class="timeline-content">
                <div class="timeline-year">2023</div>
                <h4 style="color: #64dcb4; margin-bottom: 10px">
                  Coral Restoration Initiative
                </h4>
                <p style="opacity: 0.9">
                  Launched major reef restoration project across Great Barrier
                  Reef with 89% survival rate achievement.
                </p>
              </div>
            </div>

            <div class="timeline-item">
              <div class="timeline-dot"></div>
              <div class="timeline-content">
                <div class="timeline-year">2021</div>
                <h4 style="color: #64dcb4; margin-bottom: 10px">
                  New Species Discovery
                </h4>
                <p style="opacity: 0.9">
                  Identified 12 previously unknown deep-sea species near
                  hydrothermal vents in the Atlantic Ocean.
                </p>
              </div>
            </div>

            <div class="timeline-item">
              <div class="timeline-dot"></div>
              <div class="timeline-content">
                <div class="timeline-year">2019</div>
                <h4 style="color: #64dcb4; margin-bottom: 10px">
                  Mariana Trench Expedition
                </h4>
                <p style="opacity: 0.9">
                  Led groundbreaking expedition to deepest point in ocean,
                  collecting vital data on extreme environment life.
                </p>
              </div>
            </div>

            <div class="timeline-item">
              <div class="timeline-dot"></div>
              <div class="timeline-content">
                <div class="timeline-year">2017</div>
                <h4 style="color: #64dcb4; margin-bottom: 10px">
                  PhD in Marine Biology
                </h4>
                <p style="opacity: 0.9">
                  Completed doctoral research on coral resilience and climate
                  adaptation strategies.
                </p>
              </div>
            </div>

            <div class="timeline-item">
              <div class="timeline-dot"></div>
              <div class="timeline-content">
                <div class="timeline-year">2015</div>
                <h4 style="color: #64dcb4; margin-bottom: 10px">
                  First Research Publication
                </h4>
                <p style="opacity: 0.9">
                  Published breakthrough findings on marine ecosystem
                  interconnectivity in Nature journal.
                </p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Collaboration Section -->
      <section class="collaboration" id="contact">
        <div class="container">
          <h2 class="section-title">Dive Into Collaboration</h2>
          <p
            style="
              text-align: center;
              max-width: 700px;
              margin: 20px auto 0;
              opacity: 0.9;
            "
          >
            Partner with us on groundbreaking marine research. Whether you're an
            institution, researcher, or conservation organization, let's explore
            the depths together.
          </p>

          <form class="collab-form" id="contactForm">
            <div class="form-group">
              <label for="partner">Research Partner</label>
              <input
                id="partner"
                name="partner"
                type="text"
                placeholder="Organization/University/Research Center"
                required
              />
            </div>
            <div class="form-group">
              <label for="lead">Lead Researcher / Contact</label>
              <input
                id="lead"
                name="lead"
                type="text"
                placeholder="Dr. [Your Name]"
                required
              />
            </div>
            <div class="form-group">
              <label for="email">Email</label>
              <input
                id="email"
                name="email"
                type="email"
                placeholder="research@institution.edu"
                required
              />
            </div>
            <div class="form-group">
              <label for="overview">Project Overview</label>
              <textarea
                id="overview"
                name="overview"
                placeholder="Brief description of your research project, goals, and how collaboration could advance marine science..."
                required
              ></textarea>
            </div>
            <button type="submit" class="submit-btn">
              <span id="btnText">Send Message</span>
              <span id="btnLoader" class="loading" style="display: none"></span>
            </button>
          </form>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer role="contentinfo">
      <div class="container">
        <div class="footer-content">
          <div class="footer-section">
            <h3>Aqua Nova</h3>
            <p>
              Pioneering marine research through cutting-edge exploration.
              Transforming our understanding of ocean ecosystems and inspiring
              conservation worldwide.
            </p>
            <div class="footer-stats">
              <div class="footer-stat">
                <div class="footer-stat-number">177</div>
                <div class="footer-stat-label">Publications</div>
              </div>
              <div class="footer-stat">
                <div class="footer-stat-number">16</div>
                <div class="footer-stat-label">Collaborations</div>
              </div>
              <div class="footer-stat">
                <div class="footer-stat-number">12</div>
                <div class="footer-stat-label">Expeditions</div>
              </div>
            </div>
          </div>

          <div class="footer-section">
            <h3>Research</h3>
            <ul>
              <li><a href="#">Current Projects</a></li>
              <li><a href="#">Publications</a></li>
              <li><a href="#">Grants</a></li>
              <li><a href="#">Team Bio & Collaborators</a></li>
              <li><a href="#">Lab & Field Notes</a></li>
              <li><a href="#">Partnerships</a></li>
            </ul>
          </div>

          <div class="footer-section">
            <h3>Discoveries</h3>
            <ul>
              <li><a href="#">Marine Species Database</a></li>
              <li><a href="#">Expeditions</a></li>
              <li><a href="#">Photographic Archives</a></li>
              <li><a href="#">Videos</a></li>
              <li><a href="#">Interactive Maps</a></li>
              <li><a href="#">Deep-Sea Discoveries</a></li>
            </ul>
          </div>

          <div class="footer-section">
            <h3>Connect</h3>
            <ul>
              <li><a href="#">About Dr. Marina Wave</a></li>
              <li><a href="#">Media Inquiries</a></li>
              <li><a href="#">Public Speaking</a></li>
              <li><a href="#">Consulting</a></li>
              <li><a href="#">Newsletter</a></li>
            </ul>
          </div>
        </div>

        <div class="copyright">
          ¬© 2025 Aqua Nova - Marine Wave | All Rights Reserved - Privacy Policy
          | Image Credit: All visuals by Dr. M. Wave - Funded by Seapath
        </div>
      </div>
    </footer>

    <!-- Scroll to Top Button -->
    <button
      class="scroll-top"
      id="scrollTop"
      onclick="scrollToTop()"
      aria-label="Scroll to top"
    >
      ‚Üë
    </button>

    <!-- Modal -->
    <div class="modal" id="modal">
      <div class="modal-content">
        <span class="modal-close" onclick="closeModal()">√ó</span>
        <h2 id="modalTitle" style="color: #64dcb4; margin-bottom: 15px"></h2>
        <p
          id="modalDesc"
          style="opacity: 0.9; font-size: 1.1rem; margin-bottom: 20px"
        ></p>
        <img
          id="modalImage"
          class="modal-image"
          src=""
          alt=""
          style="display: none"
        />
      </div>
    </div>

    <script>
      // Create stars
      const starsContainer = document.getElementById("starsContainer");
      for (let i = 0; i < 150; i++) {
        const star = document.createElement("div");
        star.className = "star";
        star.style.left = Math.random() * 100 + "%";
        star.style.top = Math.random() * 100 + "%";
        star.style.animationDelay = Math.random() * 3 + "s";
        starsContainer.appendChild(star);
      }

      // Create floating particles
      const particlesContainer = document.getElementById("particlesContainer");
      for (let i = 0; i < 20; i++) {
        const particle = document.createElement("div");
        particle.className = "particle";
        const size = Math.random() * 60 + 20;
        particle.style.width = size + "px";
        particle.style.height = size + "px";
        particle.style.left = Math.random() * 100 + "%";
        particle.style.top = Math.random() * 100 + "%";
        particle.style.animationDelay = Math.random() * 20 + "s";
        particle.style.animationDuration = Math.random() * 10 + 15 + "s";
        particlesContainer.appendChild(particle);
      }

      // Navbar scroll effect
      window.addEventListener("scroll", () => {
        const navbar = document.getElementById("navbar");
        if (window.scrollY > 100) {
          navbar.classList.add("scrolled");
        } else {
          navbar.classList.remove("scrolled");
        }

        // Scroll to top button
        const scrollTop = document.getElementById("scrollTop");
        if (window.scrollY > 500) {
          scrollTop.classList.add("visible");
        } else {
          scrollTop.classList.remove("visible");
        }
      });

      // Smooth scrolling
      function scrollToSection(id) {
        document.getElementById(id).scrollIntoView({
          behavior: "smooth",
          block: "start",
        });
      }

      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute("href"));
          if (target) {
            target.scrollIntoView({
              behavior: "smooth",
              block: "start",
            });
          }
        });
      });

      // Scroll to top
      function scrollToTop() {
        window.scrollTo({
          top: 0,
          behavior: "smooth",
        });
      }

      // Number counter animation (supports data-target or data-count)
      function animateCounter(element) {
        const raw =
          element.getAttribute("data-target") ||
          element.getAttribute("data-count");
        const target = parseInt(raw || "0", 10);
        if (!target || isNaN(target)) return;
        const duration = 2000;
        const step = target / (duration / 16);
        let current = 0;

        const timer = setInterval(() => {
          current += step;
          if (current >= target) {
            element.textContent = target.toLocaleString();
            clearInterval(timer);
          } else {
            element.textContent = Math.floor(current).toLocaleString();
          }
        }, 16);
      }

      // Intersection Observer for animations
      const observerOptions = {
        threshold: 0.1,
        rootMargin: "0px 0px -50px 0px",
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            // Add a slight delay for staggered animation
            setTimeout(() => {
              entry.target.style.opacity = "1";
              entry.target.style.transform = "translateY(0)";
            }, 100);

            // Trigger counter animation for stats
            if (entry.target.classList.contains("stat-item")) {
              const number = entry.target.querySelector(".stat-number");
              if (number && !number.classList.contains("animated")) {
                number.classList.add("animated");
                setTimeout(() => animateCounter(number), 200);
              }
            }

            // Unobserve after animation to prevent re-triggering
            observer.unobserve(entry.target);
          }
        });
      }, observerOptions);

      // Observe all animated elements
      document
        .querySelectorAll(
          ".feature-card, .equipment-card, .impact-card, .stat-item, .timeline-item, .gallery-item, .reef-sidebar, .reef-info, .metric, .section-title, .explorer-intro"
        )
        .forEach((el) => {
          el.style.opacity = "0";
          el.style.transform = "translateY(30px)";
          el.style.transition = "opacity 0.8s ease, transform 0.8s ease";
          observer.observe(el);
        });

      // Form submission
      document
        .getElementById("contactForm")
        .addEventListener("submit", function (e) {
          e.preventDefault();

          const btnText = document.getElementById("btnText");
          const btnLoader = document.getElementById("btnLoader");

          btnText.style.display = "none";
          btnLoader.style.display = "inline-block";

          setTimeout(() => {
            btnLoader.style.display = "none";
            btnText.style.display = "inline";
            alert(
              "Thank you for your interest in collaboration! Dr. Marina Wave will review your message and respond shortly. üåä"
            );
            this.reset();
          }, 2000);
        });

      // Modal functions
      function openModal(title, desc, imageSrc) {
        document.getElementById("modalTitle").textContent = title;
        document.getElementById("modalDesc").textContent = desc;

        const modalImage = document.getElementById("modalImage");
        if (imageSrc) {
          modalImage.src = imageSrc;
          modalImage.alt = title;
          modalImage.style.display = "block";
        } else {
          modalImage.style.display = "none";
        }

        document.getElementById("modal").classList.add("active");
        document.body.style.overflow = "hidden";
      }

      function closeModal() {
        document.getElementById("modal").classList.remove("active");
        document.body.style.overflow = "auto";
      }

      // Close modal on outside click
      document.getElementById("modal").addEventListener("click", function (e) {
        if (e.target === this) {
          closeModal();
        }
      });

      // Parallax effect
      window.addEventListener("scroll", () => {
        const scrolled = window.pageYOffset;
        const parallaxElements = document.querySelectorAll(".hero-content");
        parallaxElements.forEach((el) => {
          el.style.transform = `translateY(${scrolled * 0.5}px)`;
        });
      });
    </script>

    <!-- Enhanced Functionality Scripts -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // ==================== THEME TOGGLE ====================
        const themeToggle = document.getElementById("themeToggle");
        const body = document.body;

        const currentTheme = localStorage.getItem("theme") || "dark";
        if (currentTheme === "light") {
          body.classList.add("light-mode");
        }
        if (themeToggle) {
          // initialize label and aria state
          const setToggleLabel = (isLight) => {
            themeToggle.textContent = isLight ? "Light" : "Dark";
            themeToggle.setAttribute(
              "aria-pressed",
              isLight ? "true" : "false"
            );
          };

          setToggleLabel(body.classList.contains("light-mode"));

          themeToggle.addEventListener("click", function () {
            body.classList.toggle("light-mode");
            const isLight = body.classList.contains("light-mode");
            setToggleLabel(isLight);
            const theme = isLight ? "light" : "dark";
            localStorage.setItem("theme", theme);
          });
        }

        // ==================== SCROLL PROGRESS INDICATOR ====================
        const progressBar = document.createElement("div");
        progressBar.className = "scroll-progress";
        document.body.appendChild(progressBar);

        window.addEventListener("scroll", function () {
          const windowHeight =
            document.documentElement.scrollHeight -
            document.documentElement.clientHeight;
          const scrolled = (window.scrollY / windowHeight) * 100;
          progressBar.style.width = scrolled + "%";
        });

        // ==================== SMOOTH SCROLL FOR NAVIGATION ====================
        document.querySelectorAll('nav a[href^="#"]').forEach((anchor) => {
          anchor.addEventListener("click", function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute("href"));
            if (target) {
              target.scrollIntoView({
                behavior: "smooth",
                block: "start",
              });
            }
          });
        });

        // ==================== SCROLL REVEAL ANIMATIONS ====================
        const observerOptions = {
          threshold: 0.1,
          rootMargin: "0px 0px -50px 0px",
        };

        const observer = new IntersectionObserver(function (entries) {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.classList.add("fade-in-visible");
            }
          });
        }, observerOptions);

        document
          .querySelectorAll(
            ".stat-card, .expertise-card, .equipment-card, .impact-card, .gallery-item, .timeline-item"
          )
          .forEach((el) => {
            el.classList.add("fade-in");
            observer.observe(el);
          });

        // ==================== ANIMATED COUNTERS ====================
        function animateCounter(element) {
          const raw =
            element.getAttribute("data-target") ||
            element.getAttribute("data-count");
          const target = parseInt(raw || "0", 10);
          if (!target || isNaN(target)) return;
          const duration = 2000;
          const step = target / (duration / 16);
          let current = 0;

          const timer = setInterval(() => {
            current += step;
            if (current >= target) {
              element.textContent = target.toLocaleString();
              clearInterval(timer);
            } else {
              element.textContent = Math.floor(current).toLocaleString();
            }
          }, 16);
        }

        const counterObserver = new IntersectionObserver(
          function (entries) {
            entries.forEach((entry) => {
              if (
                entry.isIntersecting &&
                !entry.target.classList.contains("counted")
              ) {
                entry.target.classList.add("counted");
                animateCounter(entry.target);
              }
            });
          },
          { threshold: 0.5 }
        );

        document
          .querySelectorAll(".stat-number, .metric-value")
          .forEach((el) => {
            const text = el.textContent.replace(/[^0-9]/g, "");
            if (text && !isNaN(text)) {
              el.setAttribute("data-count", text);
              el.textContent = "0";
              counterObserver.observe(el);
            }
          });

        // ==================== BACK TO TOP BUTTON ====================
        const backToTop = document.createElement("button");
        backToTop.className = "back-to-top";
        backToTop.innerHTML = "‚Üë";
        backToTop.setAttribute("aria-label", "Back to top");
        document.body.appendChild(backToTop);

        window.addEventListener("scroll", function () {
          if (window.scrollY > 500) {
            backToTop.classList.add("visible");
          } else {
            backToTop.classList.remove("visible");
          }
        });

        backToTop.addEventListener("click", function () {
          window.scrollTo({
            top: 0,
            behavior: "smooth",
          });
        });

        // ==================== FORM VALIDATION ====================
        const form = document.querySelector("form");
        if (form) {
          form.addEventListener("submit", function (e) {
            e.preventDefault();

            const inputs = form.querySelectorAll(
              "input[required], textarea[required]"
            );
            let isValid = true;

            inputs.forEach((input) => {
              if (!input.value.trim()) {
                input.classList.add("error");
                isValid = false;
              } else {
                input.classList.remove("error");
              }
            });

            const email = form.querySelector('input[type="email"]');
            if (email && email.value) {
              const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
              if (!emailPattern.test(email.value)) {
                email.classList.add("error");
                isValid = false;
              }
            }

            if (isValid) {
              // Show success message
              const successMsg = document.createElement("div");
              successMsg.className = "form-success";
              successMsg.textContent =
                "‚úì Message sent successfully! We will get back to you soon.";
              form.appendChild(successMsg);

              setTimeout(() => {
                successMsg.remove();
                form.reset();
              }, 3000);
            }
          });

          // Real-time validation
          form.querySelectorAll("input, textarea").forEach((input) => {
            input.addEventListener("blur", function () {
              if (this.hasAttribute("required") && !this.value.trim()) {
                this.classList.add("error");
              } else {
                this.classList.remove("error");
              }
            });
          });
        }

        // ==================== GALLERY LIGHTBOX ====================
        const galleryItems = document.querySelectorAll(".gallery-item img");
        const lightbox = document.createElement("div");
        lightbox.className = "lightbox";
        lightbox.innerHTML = `
                <span class="lightbox-close">&times;</span>
                <img src="" alt="">
                <div class="lightbox-nav">
                    <button class="lightbox-prev">‚ùÆ</button>
                    <button class="lightbox-next">‚ùØ</button>
                </div>
            `;
        document.body.appendChild(lightbox);

        let currentImageIndex = 0;
        const images = Array.from(galleryItems);

        galleryItems.forEach((img, index) => {
          img.style.cursor = "pointer";
          img.addEventListener("click", function () {
            currentImageIndex = index;
            showLightbox(this.src);
          });
        });

        function showLightbox(src) {
          lightbox.querySelector("img").src = src;
          lightbox.classList.add("active");
          document.body.style.overflow = "hidden";
        }

        lightbox
          .querySelector(".lightbox-close")
          .addEventListener("click", closeLightbox);
        lightbox.addEventListener("click", function (e) {
          if (e.target === lightbox) closeLightbox();
        });

        function closeLightbox() {
          lightbox.classList.remove("active");
          document.body.style.overflow = "auto";
        }

        lightbox
          .querySelector(".lightbox-prev")
          .addEventListener("click", function (e) {
            e.stopPropagation();
            currentImageIndex =
              (currentImageIndex - 1 + images.length) % images.length;
            showLightbox(images[currentImageIndex].src);
          });

        lightbox
          .querySelector(".lightbox-next")
          .addEventListener("click", function (e) {
            e.stopPropagation();
            currentImageIndex = (currentImageIndex + 1) % images.length;
            showLightbox(images[currentImageIndex].src);
          });

        // Keyboard navigation for lightbox
        document.addEventListener("keydown", function (e) {
          if (lightbox.classList.contains("active")) {
            if (e.key === "Escape") closeLightbox();
            if (e.key === "ArrowLeft")
              lightbox.querySelector(".lightbox-prev").click();
            if (e.key === "ArrowRight")
              lightbox.querySelector(".lightbox-next").click();
          }
        });

        // ==================== SEARCH FUNCTIONALITY ====================
        const searchContainer = document.createElement("div");
        searchContainer.className = "search-container";
        searchContainer.innerHTML = `
                <input type="text" class="search-input" placeholder="üîç Search projects, research, species...">
                <div class="search-results"></div>
            `;

        const nav = document.querySelector("nav .container");
        if (nav) {
          nav.appendChild(searchContainer);
        }

        const searchInput = document.querySelector(".search-input");
        const searchResults = document.querySelector(".search-results");

        if (searchInput) {
          searchInput.addEventListener("input", function () {
            const query = this.value.toLowerCase().trim();

            if (query.length < 2) {
              searchResults.innerHTML = "";
              searchResults.classList.remove("active");
              return;
            }

            const allText = document.body.innerText.toLowerCase();
            const sections = document.querySelectorAll(
              "section, .project-section"
            );
            const results = [];

            sections.forEach((section) => {
              const heading = section.querySelector("h2, h3");
              const text = section.innerText.toLowerCase();

              if (text.includes(query) && heading) {
                results.push({
                  title: heading.innerText,
                  element: section,
                });
              }
            });

            if (results.length > 0) {
              searchResults.innerHTML = results
                .slice(0, 5)
                .map(
                  (result) =>
                    `<div class="search-result-item">${result.title}</div>`
                )
                .join("");
              searchResults.classList.add("active");

              document
                .querySelectorAll(".search-result-item")
                .forEach((item, index) => {
                  item.addEventListener("click", function () {
                    results[index].element.scrollIntoView({
                      behavior: "smooth",
                    });
                    searchResults.classList.remove("active");
                    searchInput.value = "";
                  });
                });
            } else {
              searchResults.innerHTML =
                '<div class="search-result-item">No results found</div>';
              searchResults.classList.add("active");
            }
          });

          // Close search results when clicking outside
          document.addEventListener("click", function (e) {
            if (!searchContainer.contains(e.target)) {
              searchResults.classList.remove("active");
            }
          });
        }

        // ==================== LOADING ANIMATION ====================
        window.addEventListener("load", function () {
          document.body.classList.add("loaded");
        });

        // ==================== PARALLAX EFFECT ====================
        window.addEventListener("scroll", function () {
          const scrolled = window.scrollY;
          const parallaxElements = document.querySelectorAll(
            ".hero, .project-header"
          );

          parallaxElements.forEach((el) => {
            const speed = 0.5;
            el.style.transform = `translateY(${scrolled * speed}px)`;
          });
        });

        // ==================== TOOLTIP FUNCTIONALITY ====================
        document.querySelectorAll("[data-tooltip]").forEach((element) => {
          element.addEventListener("mouseenter", function (e) {
            const tooltip = document.createElement("div");
            tooltip.className = "tooltip";
            tooltip.textContent = this.getAttribute("data-tooltip");
            document.body.appendChild(tooltip);

            const rect = this.getBoundingClientRect();
            tooltip.style.left =
              rect.left + rect.width / 2 - tooltip.offsetWidth / 2 + "px";
            tooltip.style.top = rect.top - tooltip.offsetHeight - 10 + "px";

            setTimeout(() => tooltip.classList.add("visible"), 10);

            this._tooltip = tooltip;
          });

          element.addEventListener("mouseleave", function () {
            if (this._tooltip) {
              this._tooltip.remove();
              this._tooltip = null;
            }
          });
        });

        console.log("‚úì All enhanced functionalities loaded successfully!");
      });

      // Make scrollTop operable by keyboard when focused
      const scrollTopEl = document.getElementById("scrollTop");
      if (scrollTopEl) {
        scrollTopEl.setAttribute("tabindex", "0");
        scrollTopEl.addEventListener("keydown", function (e) {
          if (e.key === "Enter" || e.key === " ") {
            e.preventDefault();
            scrollToTop();
          }
        });
      }
    </script>
    <script src="scripts.js"></script>
  </body>
</html>
